(this["webpackJsonpproject2-frontend"]=this["webpackJsonpproject2-frontend"]||[]).push([[0],{49:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(24),i=n.n(s),c=(n(49),n(3)),o=n(6),d=n(7),u=n(9),l=n(8),h=n(5),j=n.n(h),b=n(21),p=n(11),O=n(19),f=n(44),v=n(0),m=function(t){return Object(v.jsxs)(O.a,{sticky:"top",bg:"dark",variant:"dark",children:[Object(v.jsxs)(O.a.Brand,{href:"/",children:[Object(v.jsx)(f.a,{})," Home"]}),t.isLoggedIn&&Object(v.jsxs)("span",{children:[Object(v.jsx)(O.a.Brand,{href:"/wishlist",children:"Your List"}),Object(v.jsx)(O.a.Brand,{href:"/events",children:"Your Events"}),Object(v.jsx)(O.a.Brand,{href:"/logout",children:"Log Out"})]}),!t.isLoggedIn&&Object(v.jsxs)("span",{children:[Object(v.jsx)(O.a.Brand,{href:"/login",children:"Log In"}),Object(v.jsx)(O.a.Brand,{href:"/signup",children:"Sign Up"})]})]})},g=n(22),x=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handleChange=function(t){var e=t.target,n=e.name,r=e.value;a.setState(Object(g.a)({},n,r))},a.handleSubmit=function(t){t.preventDefault();var e=a.state,n={name:e.name,password:e.password};j.a.post("https://agile-tor-91190.herokuapp.com/login",{user:n},{withCredentials:!0}).then((function(t){t.data.logged_in?(a.props.handleLogin(t.data),a.redirect()):a.setState({errors:t.data.errors})})).catch((function(t){return console.log("api errors:",t)}))},a.redirect=function(){a.props.history.push("/")},a.handleErrors=function(){return Object(v.jsx)("div",{children:Object(v.jsx)("ul",{children:a.state.errors.map((function(t){return Object(v.jsx)("li",{children:t},t)}))})})},a.state={name:"",password:"",errors:""},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=(t.email,t.password);return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Log In"}),Object(v.jsx)("p",{children:this.state.errors}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("input",{placeholder:"name",type:"text",name:"name",value:e,onChange:this.handleChange}),Object(v.jsx)("input",{placeholder:"password",type:"password",name:"password",value:n,onChange:this.handleChange}),Object(v.jsx)("button",{placeholder:"submit",type:"submit",children:"Log In"}),Object(v.jsxs)("div",{children:["or ",Object(v.jsx)(b.b,{to:"/signup",children:"sign up"})]})]})]})}}]),n}(a.Component),y=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handleChange=function(t){var e=t.target,n=e.name,r=e.value;a.setState(Object(g.a)({},n,r))},a.handleSubmit=function(t){t.preventDefault();var e=a.state,n={name:e.name,email:e.email,password:e.password,password_confirmation:e.password_confirmation};j.a.post("https://agile-tor-91190.herokuapp.com/users",{user:n},{withCredentials:!0}).then((function(t){"created"===t.data.status?(a.props.handleLogin(t.data),a.redirect()):(console.log(t.data.errors),a.setState({errors:t.data.errors}))})).catch((function(t){return console.log("api errors:",t)}))},a.redirect=function(){a.props.history.push("/")},a.handleErrors=function(){return Object(v.jsx)("div",{children:Object(v.jsx)("ul",{children:a.state.errors.map((function(t){return Object(v.jsx)("li",{children:t},t)}))})})},a.state={name:"",email:"",password:"",password_confirmation:"",errors:[]},a}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.email,a=t.password,r=t.password_confirmation;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Sign Up"}),this.handleErrors(),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("input",{placeholder:"name",type:"text",name:"name",value:e,onChange:this.handleChange}),Object(v.jsx)("input",{placeholder:"email",type:"email",name:"email",value:n,onChange:this.handleChange}),Object(v.jsx)("input",{placeholder:"password",type:"password",name:"password",value:a,onChange:this.handleChange}),Object(v.jsx)("input",{placeholder:"password confirmation",type:"password",name:"password_confirmation",value:r,onChange:this.handleChange}),Object(v.jsx)("button",{placeholder:"submit",type:"submit",children:"Sign Up"})]})]})}}]),n}(a.Component),_=n(10),C="http://localhost:3000/restaurants.json";function S(t,e,n){console.log("AddToWishList()"),console.log(t);var a={name:t.name,longitude:t.geometry.location.lng,latitude:t.geometry.location.lat,address:t.formatted_address,price_level:t.price_level,rating:t.rating,website:t.website,user_id:e,place_id:t.place_id};j.a.post(C,a).then((function(t){n(t.data.id)}))}var k=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={isSaved:!1},a.getAllRestaurants=a.getAllRestaurants.bind(Object(_.a)(a)),a.isRestaurantSaved=a.isRestaurantSaved.bind(Object(_.a)(a)),a}return Object(d.a)(n,[{key:"getAllRestaurants",value:function(t){var e=this;j.a.get(C).then((function(n){var a=n.data.filter((function(t){return t.user&&t.user.id===e.props.user.id}));t(a)}))}},{key:"isRestaurantSaved",value:function(){var t=this;this.getAllRestaurants((function(e){e!==[]&&(e.find((function(e){return e.place_id===t.props.restaurant.place_id}))?t.setState({isSaved:!0}):t.setState({isSaved:!1}))}))}},{key:"componentDidMount",value:function(){this.isRestaurantSaved()}},{key:"componentDidUpdate",value:function(t){this.props.restaurant!==t.restaurant&&this.isRestaurantSaved()}},{key:"renderContent",value:function(){var t=this;return Object(v.jsx)("div",{children:this.state.isSaved?Object(v.jsx)("button",{children:"SAVED!"}):Object(v.jsx)("button",{onClick:function(){return S(t.props.restaurant,t.props.user.id,(function(){t.setState({isSaved:!0})}))},children:"Add to your Wishlist"})})}},{key:"render",value:function(){return Object(v.jsx)("div",{children:this.renderContent()})}}]),n}(a.Component);var w=function(t){return Object(v.jsx)("a",{href:"/restaurant/"+t.restaurant.id+"/create-event",children:Object(v.jsx)("button",{children:"Create Event"})})},L=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;Object(o.a)(this,n),(a=e.call(this,t)).state={restaurant:{}};var r,s=(r=t.match.params.id,"http://localhost:3000/"+"restaurants/".concat(r));return console.log("fetchRestaurant()"),j.a.get(s).then((function(t){a.setState({restaurant:t.data.restaurants})})),a}return Object(d.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:this.state.restaurant.name}),Object(v.jsxs)("p",{children:["Address: ",this.state.restaurant.address]}),this.state.restaurant.website&&Object(v.jsxs)("p",{children:["Website: ",Object(v.jsx)("a",{href:this.state.restaurant.website,children:this.state.restaurant.website})]}),this.state.restaurant.contact&&Object(v.jsxs)("p",{children:["Contact: ",this.state.restaurant.contact]}),this.state.restaurant.rating&&Object(v.jsxs)("p",{children:["Rating: ",this.state.restaurant.rating,"/5"]}),this.state.restaurant.price_level&&Object(v.jsxs)("p",{children:["Price level: ",this.state.restaurant.price_level,"/5"]}),Object(v.jsx)(w,{restaurant:this.state.restaurant})]})}}]),n}(a.Component),R=L,A=function(t){return Object(v.jsx)("div",{children:t.chats.map((function(t){return Object(v.jsxs)("p",{children:[t.user_id,": ",t.content]},t.id)}))})},I=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;Object(o.a)(this,n),(a=e.call(this,t)).state={id:a.props.event_id,chats:[]};return function t(){j.a.get("http://localhost:3000/chats.json").then((function(e){var n=e.data.filter((function(t){return t.event_id===a.state.id}));a.setState({chats:n}),setTimeout(t,4e3)}))}(),a}return Object(d.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Testing"}),Object(v.jsx)(A,{chats:this.state.chats})]})}}]),n}(a.Component),D=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t))._handleSubmit=function(t){t.preventDefault(),a.setState({content:""}),j.a.post("http://localhost:3000/chats",{user_id:a.props.user.id,event_id:a.props.event_id,content:a.state.content}).then((function(t){console.log(t)}),(function(t){console.log("CreateChat error",t)}))},a.state={content:""},a._handleChange=a._handleChange.bind(Object(_.a)(a)),a._handleSubmit=a._handleSubmit.bind(Object(_.a)(a)),a}return Object(d.a)(n,[{key:"_handleChange",value:function(t){this.setState({content:t.target.value})}},{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsxs)("form",{onSubmit:this._handleSubmit,children:[Object(v.jsx)("textarea",{name:"",id:"",cols:"40",rows:"5",onChange:this._handleChange,value:this.state.content}),Object(v.jsx)("input",{type:"submit",value:"Post"})]})})}}]),n}(a.Component),E=function(t){return"http://localhost:3000/"+"events/".concat(t,".json")},T=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;Object(o.a)(this,n),(a=e.call(this,t))._handleToggle=function(t){t.preventDefault(),a.setState({edit:!a.state.edit})},a._handleEdit=function(t){t.preventDefault();var e={title:t.target.title.value,date:t.target.date.value,introduction:t.target.introduction.value},n=E(a.state.id);j.a.put(n,e).then((function(t){console.log(t)})),a.setState({edit:!1,title:e.title,date:e.date,introduction:e.introduction})},a.state={edit:!1,id:a.props.event_id,title:"",introduction:"",date:"",creator:{},restaurant:{},attendants:[]},a._handleToggle=a._handleToggle.bind(Object(_.a)(a)),a._handleEdit=a._handleEdit.bind(Object(_.a)(a)),a._handleDelete=a._handleDelete.bind(Object(_.a)(a)),a.renderRecord=a.renderRecord.bind(Object(_.a)(a)),a.renderForm=a.renderForm.bind(Object(_.a)(a));var r=E(a.props.event_id);return j.a.get(r).then((function(t){var e=t.data.event;a.setState({title:e.title,introduction:e.introduction,date:e.date,creator:e.user,restaurant:e.restaurant,attendants:e.attendants})})),a}return Object(d.a)(n,[{key:"_handleDelete",value:function(){var t=E(this.state.id);j.a.delete(t,{params:{id:this.state.id}}).then((function(t){console.log(t)}))}},{key:"renderRecord",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("h2",{children:["Event: ",this.state.title]}),Object(v.jsxs)("h3",{children:["Date: ",this.state.date," || Creator: ",this.state.creator.name]}),Object(v.jsxs)("h3",{children:["Venue: ",this.state.restaurant.name]}),Object(v.jsxs)("h4",{children:["Attendants:",this.state.attendants.map((function(t){return t.user.name})).join(", ")]}),Object(v.jsxs)("p",{children:["Summary: ",this.state.introduction]}),Object(v.jsx)("button",{onClick:this._handleToggle,children:" Edit this event"}),Object(v.jsx)("button",{onClick:this._handleDelete,children:" Delete this event"}),Object(v.jsx)(I,{event_id:this.state.id}),Object(v.jsx)(D,Object(c.a)(Object(c.a)({},this.props),{},{event_id:this.state.id}))]})}},{key:"findAttendants",value:function(t,e){return e.filter((function(e){var n=new RegExp(t,"gi");return e.name.match(n)}))}},{key:"renderForm",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Edit Event"}),Object(v.jsxs)("h3",{children:["Venue:",this.state.restaurant.name]}),Object(v.jsxs)("form",{onSubmit:this._handleEdit,children:[Object(v.jsx)("label",{children:"Title"}),Object(v.jsx)("input",{name:"title",defaultValue:this.state.title,required:!0}),Object(v.jsx)("label",{children:"Date"}),Object(v.jsx)("input",{placeholder:"2020-12-31",name:"date",defaultValue:this.state.date,required:!0}),Object(v.jsx)("label",{children:"Summary"}),Object(v.jsx)("textarea",{name:"introduction",defaultValue:this.state.introduction}),Object(v.jsx)("button",{children:"Update"})]})]})}},{key:"render",value:function(){return this.state.edit?this.renderForm():this.renderRecord()}}]),n}(a.Component),q=function(t){var e=Object(p.f)().id;return Object(v.jsx)(T,Object(c.a)(Object(c.a)({},t),{},{event_id:parseInt(e)}))},N=n(30),B="http://localhost:3000/events",F=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t))._handleChange=function(t){var e=t.target,n=e.name,r=e.value;a.setState(Object(g.a)({},n,r))},a._handleSubmit=function(t){t.preventDefault();var e=a.state,n=e.title,r=e.date,s=e.introduction,i=e.user_id,c=e.restaurant_id,o=e.attendants,d=(e._,{title:n,date:r,introduction:s,user_id:i,restaurant_id:c});console.log(d),j.a.post(B,d).then((function(t){console.log(t),a.addAttendants(o,d)}))},a._findAttendants=function(t){if(t.preventDefault(),""!==t.target.value){var e=t.target.value;j.a.get("http://localhost:3000/users").then((function(t){var n=t.data.users.filter((function(t){var n=new RegExp(e,"gi");return t.name.match(n)}));a.setState({attendants_search:n})}))}else a.setState({attendants_search:[]})},a._handleCheckbox=function(t){t.preventDefault();var e=Object(N.a)(a.state.attendants_search),n=Object(N.a)(a.state.attendants),r=Number(t.target.id);if(!0===t.target.checked){var s=e.find((function(t){return t.id===r}));n=n.concat(s),a.setState({attendants:n})}else{var i=n.findIndex((function(t){return t.id===r}));-1!==i&&(n.splice(i,1),a.setState({attendants:n}))}},a.state={title:"",date:"",introduction:"",user_id:a.props.user.id,restaurant_id:a.props.restaurant_id,attendants:[],attendants_search:[]},a._handleChange=a._handleChange.bind(Object(_.a)(a)),a._handleSubmit=a._handleSubmit.bind(Object(_.a)(a)),a._findAttendants=a._findAttendants.bind(Object(_.a)(a)),a._handleCheckbox=a._handleCheckbox.bind(Object(_.a)(a)),console.log(a.props.user.id),a}return Object(d.a)(n,[{key:"addAttendants",value:function(t,e){console.log(t),console.log(this.state.attendants),j.a.get(B+".json").then((function(n){console.log(n.data);var a=n.data.find((function(t){return t.title===e.title}));console.log(a),t.map((function(t){var e={user_id:t.id,event_id:a.id};console.log(e),j.a.post("http://localhost:3000/attendants",e).then((function(t){console.log(t)}))}))}))}},{key:"render",value:function(){var t=this;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Create Event"}),Object(v.jsxs)("form",{onSubmit:this._handleSubmit,children:[Object(v.jsx)("label",{children:"Title"}),Object(v.jsx)("input",{name:"title",onChange:this._handleChange,required:!0}),Object(v.jsx)("label",{children:"Date"}),Object(v.jsx)("input",{placeholder:"2020-12-31",name:"date",type:"date",onChange:this._handleChange,required:!0}),Object(v.jsx)("label",{children:"Summary"}),Object(v.jsx)("textarea",{name:"introduction",onChange:this._handleChange}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:"Attendants"}),Object(v.jsx)("input",{name:"attendants",onChange:this._findAttendants}),Object(v.jsxs)("ul",{children:[this.state.attendants.map((function(e){return Object(v.jsxs)("label",{children:[Object(v.jsx)("input",{type:"checkbox",id:e.id,onChange:t._handleCheckbox,checked:!0},e.id),e.name]})})),this.state.attendants_search.map((function(e){return Object(v.jsxs)("label",{children:[Object(v.jsx)("input",{type:"checkbox",id:e.id,onChange:t._handleCheckbox},e.id),e.name]})}))]})]}),Object(v.jsx)("button",{children:"Create Event"})]})]})}}]),n}(a.Component),M=function(t){var e=Object(p.f)().id;return Object(v.jsx)(F,{restaurant_id:parseInt(e),user:t.user})};var z=function(t){return Object(v.jsx)("button",{onClick:function(){S(t.restaurant,t.user.id,(function(e){console.log(e),t.history.push("/restaurant/".concat(e,"/create-event"))}))},children:"Add to list and create Event"})},U=n(20),P=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={restaurant:t.restaurant},a}return Object(d.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[this.props.restaurant&&Object(v.jsx)(U.a,{children:Object(v.jsxs)(U.a.Body,{children:[Object(v.jsx)("h3",{children:this.props.restaurant.name}),this.props.restaurant.name&&Object(v.jsxs)("div",{children:[Object(v.jsx)(k,Object(c.a)(Object(c.a)({},this.props),{},{restaurant:this.props.restaurant})),Object(v.jsx)(z,Object(c.a)(Object(c.a)({},this.props),{},{restaurant:this.props.restaurant}))]}),Object(v.jsx)("p",{children:this.props.restaurant.formatted_address}),this.props.restaurant.rating&&Object(v.jsxs)("p",{children:["Rating: ",this.props.restaurant.rating]}),this.props.restaurant.user_ratings_total&&Object(v.jsxs)("p",{children:["Total user rating: ",this.props.restaurant.user_ratings_total]})]})}),!this.props.restaurant&&this.props.searchButtonClicked&&Object(v.jsx)("h3",{children:"...No such thing on Earth, dude!"})]})}}]),n}(a.Component),V={display:"flex",justifyContent:"center",margin:"5px"},W=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={query:"",isQueryChanged:!1},t._handleInput=t._handleInput.bind(Object(_.a)(t)),t._handleSubmit=t._handleSubmit.bind(Object(_.a)(t)),t.clearInput=t.clearInput.bind(Object(_.a)(t)),t}return Object(d.a)(n,[{key:"_handleInput",value:function(t){this.setState({query:t.target.value,isQueryChanged:!0})}},{key:"_handleSubmit",value:function(t){t.preventDefault(),this.setState({isQueryChanged:!1}),!0===this.state.isQueryChanged?this.props.onSubmit(this.state.query):this.props.fetchRandomNum()}},{key:"clearInput",value:function(){this.setState({query:""})}},{key:"componentDidUpdate",value:function(t){console.log("My component was just updated"),console.log(this.props.random),this.props.random&&this.props.random!==t.random&&(console.log("SETSTATE"),this.setState({query:""}))}},{key:"render",value:function(){return Object(v.jsxs)("form",{onSubmit:this._handleSubmit,style:V,children:[Object(v.jsx)("input",{onInput:this._handleInput,value:this.state.query,placeholder:"Anything, really",style:{fontSize:"2em"}}),Object(v.jsxs)("button",{style:{backgroundColor:"#2A8093",fontSize:"2em"},children:["Hmm...",this.state.query,"?"]})]})}}]),n}(a.Component),Y={display:"flex",justifyContent:"center",margin:"20px"},H=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={restaurants:[],randomNum:0,searchButtonClicked:!1,random:!0},a.fetchRestaurants=a.fetchRestaurants.bind(Object(_.a)(a)),a.fetchRandomNum=a.fetchRandomNum.bind(Object(_.a)(a)),a.fetchRandomRestaurant=a.fetchRandomRestaurant.bind(Object(_.a)(a)),a._handleSubmit=a._handleSubmit.bind(Object(_.a)(a)),a}return Object(d.a)(n,[{key:"fetchRestaurants",value:function(t){var e=this;console.log("ABOUT TO FETCH");j.a.get(function(t){return["https://maps.googleapis.com/maps/api/place/textsearch/json?query=",t,"&key=AIzaSyDpF67gcwqJT5Lku1Aj-78unvq0OpKUNpA"].join("")}(t)).then((function(t){e.setState({restaurants:t.data.results,searchButtonClicked:!0,isIncluded:!0,random:!1}),e.fetchRandomNum()}))}},{key:"fetchRandomRestaurant",value:function(t){var e=this;j.a.get(function(t){return["https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=",t,"&inputtype=textquery&fields=photos,formatted_address,name,rating,opening_hours,photos,price_level,user_ratings_total,types,place_id,geometry&key=AIzaSyDpF67gcwqJT5Lku1Aj-78unvq0OpKUNpA"].join("")}(t)).then((function(t){e.setState({restaurants:t.data.candidates,searchButtonClicked:!0,isIncluded:!0,random:!0}),e.fetchRandomNum()}))}},{key:"fetchRandomNum",value:function(){console.log("fetchRandomNum()");var t=Math.floor(Math.random()*this.state.restaurants.length);this.setState({randomNum:t})}},{key:"_handleSubmit",value:function(){var t=["cake","steak","cookies","ice cream","thai food","good pizza","vietnamese","korean","bbq"],e=t[Math.floor(Math.random()*t.length)];console.log(e),this.fetchRandomRestaurant(e)}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:Y,children:Object(v.jsx)(W,Object(c.a)(Object(c.a)(Object(c.a)({},this.props),this.state),{},{onSubmit:this.fetchRestaurants,fetchRandomNum:this.fetchRandomNum}))}),Object(v.jsx)("div",{children:Object(v.jsx)("h3",{style:Y,children:"or"})}),Object(v.jsx)("div",{style:Y,children:Object(v.jsx)("button",{onClick:this._handleSubmit,style:{backgroundColor:"#E85551",fontSize:"2em"},children:"Adventurous!"})}),Object(v.jsx)(P,Object(c.a)(Object(c.a)(Object(c.a)({},this.props),this.state),{},{restaurant:this.state.restaurants[this.state.randomNum]}))]})}}]),n}(a.Component);var J=function(t){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:" I feel like"}),Object(v.jsx)(H,Object(c.a)({},t))]})},Q=n(40),K=n(41),G=n(42),X={display:"flex",justifyContent:"center",margin:"5px"};function Z(t){return Object(v.jsx)("button",{onClick:function(){!function(e){var n,a=(n=t.restaurant.id,"http://localhost:3000/"+"restaurants/".concat(n,".json"));j.a.delete(a,{id:t.restaurant.id}).then((function(t){e(t)}))}((function(){t.updateList()}))},children:"Remove from list"})}var $=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={restaurantList:[]},a.updateList=a.updateList.bind(Object(_.a)(a)),a}return Object(d.a)(n,[{key:"updateList",value:function(){var t=this;j.a.get("http://localhost:3000/restaurants.json").then((function(e){var n=e.data.filter((function(e){return e.user&&e.user.id===t.props.user.id}));t.setState({restaurantList:n})}))}},{key:"componentDidMount",value:function(){this.updateList()}},{key:"render",value:function(){var t=this;return Object(v.jsx)(Q.a,{style:X,children:Object(v.jsx)(K.a,{children:this.state.restaurantList.map((function(e){return Object(v.jsx)(G.a,{style:{marginTop:"5px"},lg:6,children:Object(v.jsxs)(U.a,{children:[Object(v.jsx)(U.a.Img,{variant:"top",src:""}),Object(v.jsx)(U.a.Body,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:e.name}),Object(v.jsx)(w,{restaurant:e,style:{margin:"5px"}}),Object(v.jsx)(Z,{updateList:t.updateList,restaurant:e}),Object(v.jsxs)("p",{children:["Address: ",e.address]}),e.website&&Object(v.jsxs)("p",{children:["Website: ",Object(v.jsx)("a",{href:e.website,children:e.website})]}),e.contact&&Object(v.jsxs)("p",{children:["Contact: ",e.contact]}),e.rating&&Object(v.jsxs)("p",{children:["Rating: ",e.rating,"/5"]}),e.price_level&&Object(v.jsxs)("p",{children:["Price level: ",e.price_level,"/5"]})]})})]})},e.id)}))})})}}]),n}(a.Component),tt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(o.a)(this,n),e.call(this,t)}return Object(d.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Your wishlist"}),Object(v.jsx)($,Object(c.a)({},this.props))]})}}]),n}(a.Component),et={margin:"5px",padding:"10px"},nt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={eventList:[]},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;j.a.get("http://localhost:3000/events.json").then((function(e){var n=e.data.filter((function(e){return e.user&&e.user.id===t.props.user.id}));t.setState({eventList:n})}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Your Events"}),this.state.eventList.map((function(t){return Object(v.jsx)(U.a,{style:et,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:t.title}),Object(v.jsxs)("p",{children:["Introduction: ",t.introduction]}),Object(v.jsxs)("p",{children:["Date: ",t.date]}),Object(v.jsx)("a",{href:"/event/".concat(t.id),children:Object(v.jsx)("button",{children:"Show event"})})]},t.id)})}))]})}}]),n}(a.Component),at=n(43),rt=n.p+"static/media/food-pattern.d32b9b70.jpg",st=n.p+"static/media/logo.451f0f8c.png",it={display:"flex",justifyContent:"center"};var ct=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{style:{fontSize:"2.5em",textAlign:"center",paddingTop:"40px"},children:"Don't know where to go?"}),Object(v.jsx)("h5",{children:"WELCOME tO"}),Object(v.jsx)("div",{style:it,children:Object(v.jsx)("a",{href:"/",children:Object(v.jsx)("img",{src:st,alt:"",style:{height:"40vh"}})})}),Object(v.jsx)("p",{style:{fontSize:"1em",textAlign:"center",paddingTop:"10px",fontStyle:"italic"},children:"Click to go in"})]})},ot={backgroundSize:"100vh",backgroundRepeat:"repeat",backgroundImage:"url(".concat(rt,")")},dt=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).loginStatus=function(){j.a.get("https://agile-tor-91190.herokuapp.com/logged_in",{withCredentials:!0}).then((function(t){t.data.logged_in?a.handleLogin(t):a.handleLogout()})).catch((function(t){return console.log("api errors:",t)}))},a.handleLogin=function(t){a.setState({isLoggedIn:!0,user:t.data.user})},a.handleLogout=function(){a.setState({isLoggedIn:!1,user:{}})},a.state={isLoggedIn:!1,user:{}},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loginStatus()}},{key:"render",value:function(){var t=this;return Object(v.jsxs)("div",{style:ot,children:[Object(v.jsx)(m,Object(c.a)(Object(c.a)({},this.props),{},{isLoggedIn:this.state.isLoggedIn})),Object(v.jsx)(at.a,{style:{backgroundColor:"#F7BA89",minHeight:"100vh",position:"relative"},children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(p.c,{children:[Object(v.jsx)(p.a,{exact:!0,path:"/",component:function(e){return Object(v.jsx)(J,Object(c.a)(Object(c.a)(Object(c.a)({},e),t.state),{},{isLoggedIn:t.state.isLoggedIn}))}}),Object(v.jsx)(p.a,{exact:!0,path:"/login",component:function(e){return Object(v.jsx)(x,Object(c.a)(Object(c.a)({},e),{},{handleLogin:t.handleLogin}))}}),Object(v.jsx)(p.a,{exact:!0,path:"/signup",component:function(e){return Object(v.jsx)(y,Object(c.a)(Object(c.a)({},e),{},{handleLogin:t.handleLogin}))}}),Object(v.jsx)(p.a,{exact:!0,path:"/event/:id",component:function(){return Object(v.jsx)(q,Object(c.a)({},t.state))}}),Object(v.jsx)(p.a,{exact:!0,path:"/project2-frontend",component:function(){return Object(v.jsx)(ct,Object(c.a)({},t.state))}}),Object(v.jsx)(p.a,{exact:!0,path:"/restaurant/:id",component:R}),Object(v.jsx)(p.a,{exact:!0,path:"/wishlist",component:function(){return Object(v.jsx)(tt,Object(c.a)({},t.state))}}),Object(v.jsx)(p.a,{exact:!0,path:"/events",component:function(){return Object(v.jsx)(nt,Object(c.a)({},t.state))}}),Object(v.jsx)(p.a,{exact:!0,path:"/restaurant/:id/create-event",component:function(){return Object(v.jsx)(M,Object(c.a)({},t.state))}})]})})}),Object(v.jsx)(O.a,{className:"align-right",bg:"dark",variant:"dark",children:Object(v.jsx)(O.a.Brand,{children:"Proudly brought to you by KNYM"})})]})}}]),n}(a.Component),ut=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))};n(77);i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(dt,{})}),document.getElementById("root")),ut()}},[[78,1,2]]]);
//# sourceMappingURL=main.9d2cb71d.chunk.js.map